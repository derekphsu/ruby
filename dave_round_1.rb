bank_account = {
  balance: 574.24,
  transactions: [
    {
      "amount": -2.38,
      "transaction_date": "2019-02-02"
    },
    {
      "amount": -6.29,
      "transaction_date": "2019-02-02"
    },
    {
      "amount": 365,
      "transaction_date": "2019-02-02"
    },
    {
      "amount": -280,
      "transaction_date": "2019-02-02"
    },
    {
      "amount": -36.98,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -70,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -5.17,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -6.07,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -1.79,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -13.99,
      "transaction_date": "2019-02-01"
    },
    {
      "amount": -5.02,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -21.9,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -5.3,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -9.42,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -79.99,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -2.5,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -7.58,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -2.06,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": 801.5,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -14.12,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -22.26,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -17.24,
      "transaction_date": "2019-01-31"
    },
    {
      "amount": -6.47,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -2.32,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -2.5,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -10.55,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -21.9,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -55.64,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -5.41,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -12.61,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -2.5,
      "transaction_date": "2019-01-30"
    },
    {
      "amount": -5.5,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -10.33,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -9.86,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -5.43,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -8.25,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -11.29,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -3.88,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -4.67,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -9.79,
      "transaction_date": "2019-01-29"
    },
    {
      "amount": -2.21,
      "transaction_date": "2019-01-26"
    },
    {
      "amount": 263,
      "transaction_date": "2019-01-26"
    },
    {
      "amount": -11.13,
      "transaction_date": "2019-01-26"
    },
    {
      "amount": -6.06,
      "transaction_date": "2019-01-26"
    },
    {
      "amount": -10.6,
      "transaction_date": "2019-01-26"
    },
    {
      "amount": -5,
      "transaction_date": "2019-01-25"
    },
    {
      "amount": -1,
      "transaction_date": "2019-01-25"
    },
    {
      "amount": 69.92,
      "transaction_date": "2019-01-24"
    },
    {
      "amount": 35,
      "transaction_date": "2019-01-24"
    },
    {
      "amount": -35,
      "transaction_date": "2019-01-23"
    },
    {
      "amount": -69.92,
      "transaction_date": "2019-01-23"
    },
    {
      "amount": 0,
      "transaction_date": "2019-01-23"
    },
    {
      "amount": 75,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -6.11,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -17.38,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -5.5,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -5.5,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -8.41,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -36.57,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -10,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": 0,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": 3.35,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -5.99,
      "transaction_date": "2019-01-22"
    },
    {
      "amount": -2,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": -5.5,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": -11.75,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": -201,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": 256.54,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": -2.5,
      "transaction_date": "2019-01-19"
    },
    {
      "amount": -0.75,
      "transaction_date": "2019-01-19"
    }
  ]
}


days_hash = {}
bank_account[:transactions].each do |trans|
  days_hash[trans[:transaction_date]] = (days_hash[trans[:transaction_date]] || 0) + trans[:amount]
end

running_amount = bank_account[:balance]
days_hash.keys.sort.reverse.each do |day|
  running_amount -= days_hash[day]
  puts "After day #{day} your balance is #{running_amount}."
end